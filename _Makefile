all: gui.c main.c map.c args.c filehandler.c gui.h map.h args.h filehandler.h
	gcc gui.c main.c map.c args.c filehandler.c `sdl2-config --cflags --libs` -o minesweeper

gui.o: gui.c gui.h
	gcc -c gui.c `sdl2-config --cflags` -o gui.o

main.o: main.c gui.h args.h map.h
	gcc -c main.c `sdl2-config --cflags` -o main.o

map.o: map.c map.h
	gcc -c map.c `sdl2-config --cflags` -o map.o

args.o: args.c args.h
	gcc -c args.c `sdl2-config --cflags` -o args.o

filehandler.o: filehandler.c filehandler.h
	gcc -c filehandler.c `sdl2-config --cflags` -o filehandler.o

link: gui.o main.o map.o args.o filehandler.o
	gcc gui.o main.o map.o args.o filehandler.o `sdl2-config --libs` -o minesweeper

clean:
	rm -f *.o minesweeper